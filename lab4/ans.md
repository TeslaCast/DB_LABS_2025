–í–æ—Ç –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–∞—à–∏ –≤–æ–ø—Ä–æ—Å—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ Markdown:

---

## üìå –í–æ–ø—Ä–æ—Å—ã –ø–æ PL/pgSQL –∏ SQL

### 1. –í —á–µ–º –æ—Ç–ª–∏—á–∏–µ –º–µ–∂–¥—É –ø—Ä–æ—Ü–µ–¥—É—Ä–æ–π –∏ —Ñ—É–Ω–∫—Ü–∏–µ–π?

| –ö—Ä–∏—Ç–µ—Ä–∏–π               | **–§—É–Ω–∫—Ü–∏—è**                             | **–ü—Ä–æ—Ü–µ–¥—É—Ä–∞**                                 |
| ---------------------- | --------------------------------------- | --------------------------------------------- |
| –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ    | ‚úÖ –î–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)                      | ‚ùå –ù–µ—Ç (–º–æ–∂–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å, –Ω–æ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)    |
| –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ SQL    | ‚úÖ –ú–æ–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –≤ SELECT, WHERE –∏ —Ç.–¥. | ‚ùå –ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ SQL-–≤—ã—Ä–∞–∂–µ–Ω–∏—è—Ö        |
| –í—ã–∑–æ–≤                  | `SELECT function_name(...)`             | `CALL procedure_name(...)`                    |
| –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ             | –†–∞—Å—á—ë—Ç—ã, –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö               | –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ë–î) |
| –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π | –ù–µ—Ç –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö `BEGIN ... COMMIT`        | ‚úÖ –î–∞, –º–æ–∂–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏            |

---

### 2. –ß—Ç–æ —Ç–∞–∫–æ–µ –∫—É—Ä—Å–æ—Ä—ã?

**–ö—É—Ä—Å–æ—Ä—ã** ‚Äî —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è –ø–æ—Å—Ç—Ä–æ—á–Ω–æ–≥–æ (–ø–æ—à–∞–≥–æ–≤–æ–≥–æ) –ø–µ—Ä–µ–±–æ—Ä–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∑–∞–ø—Ä–æ—Å–∞ –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–π –∏–ª–∏ –ø—Ä–æ—Ü–µ–¥—É—Ä.

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–æ–≥–¥–∞:**

* –ù—É–∂–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –º–Ω–æ–≥–æ —Å—Ç—Ä–æ–∫ –ø–æ –æ–¥–Ω–æ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å –ª–æ–≥–∏–∫–æ–π –≤ —Ü–∏–∫–ª–µ)
* –¢—Ä–µ–±—É–µ—Ç—Å—è —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –≤—ã–±–æ—Ä–∫–æ–π

**–ü—Ä–∏–º–µ—Ä:**

```plpgsql
DECLARE
    cur CURSOR FOR SELECT name FROM professors;
BEGIN
    OPEN cur;
    FETCH NEXT FROM cur INTO ...;
    ...
END;
```

---

### 3. –î–ª—è –∫–∞–∫–∏—Ö —Ü–µ–ª–µ–π –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ç—Ä–∏–≥–≥–µ—Ä—ã?

**–¢—Ä–∏–≥–≥–µ—Ä—ã** ‚Äî —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏—è—Ö –≤ —Ç–∞–±–ª–∏—Ü–µ.

**–ü—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –¥–ª—è:**

* –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π (`INSERT`, `UPDATE`, `DELETE`)
* –ö–æ–Ω—Ç—Ä–æ–ª—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö
* –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ—Å—á—ë—Ç–∞ –∑–Ω–∞—á–µ–Ω–∏–π
* –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–ø—Ä–µ—â–∞—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π)

---

### 4. –í–æ–∑–º–æ–∂–Ω–æ –ª–∏ –Ω–∞–ø–∏—Å–∞—Ç—å —Ç—Ä–∏–≥–≥–µ—Ä–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –Ω–∞ —è–∑—ã–∫–µ SQL?

**–ù–µ—Ç**, —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ **—Ç—Ä–∏–≥–≥–µ—Ä–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ PostgreSQL –Ω–µ–ª—å–∑—è –ø–∏—Å–∞—Ç—å –Ω–∞ —á–∏—Å—Ç–æ–º SQL** ‚Äî –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–∞ **PL/pgSQL**, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ç—Ä–µ–±—É—é—Ç –ª–æ–≥–∏–∫–∏ (—É—Å–ª–æ–≤–∏–π, –≤–µ—Ç–≤–ª–µ–Ω–∏–π, –¥–æ—Å—Ç—É–ø–∞ –∫ `NEW`, `OLD`).

–û–¥–Ω–∞–∫–æ **—Ñ—É–Ω–∫—Ü–∏–∏ –æ–±—â–µ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è** –º–æ–∂–Ω–æ –ø–∏—Å–∞—Ç—å –Ω–∞ SQL:

```sql
CREATE FUNCTION get_count() RETURNS INT AS $$
    SELECT COUNT(*) FROM professors;
$$ LANGUAGE sql;
```

---

### 5. –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è?

**–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (views)** ‚Äî —ç—Ç–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞ –∑–∞–ø—Ä–æ—Å–∞—Ö `SELECT`.

**–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è:**

* –£–ø—Ä–æ—â–µ–Ω–∏—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
* –ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏ –ª–æ–≥–∏–∫–∏ (—Å–∫—Ä—ã—Ç–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –±–∞–∑—ã)
* –ü–æ–≤—ã—à–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º)
* –ü–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞

**–ü—Ä–∏–º–µ—Ä:**

```sql
CREATE VIEW active_professors AS
SELECT * FROM professors WHERE status = 'active';
```

---

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ ‚Äî –º–æ–≥—É –æ—Ñ–æ—Ä–º–∏—Ç—å —ç—Ç–æ –∫–∞–∫ PDF –∏–ª–∏ –≤—Å—Ç–∞–≤–∏—Ç—å –≤ –æ—Ç—á—ë—Ç.
